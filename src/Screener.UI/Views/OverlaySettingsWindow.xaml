<Window x:Class="Screener.UI.Views.OverlaySettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:overlays="clr-namespace:Screener.Golf.Overlays;assembly=Screener.Golf"
        mc:Ignorable="d"
        Title="Overlay Settings"
        Height="550" Width="600"
        MinHeight="450" MinWidth="500"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource BackgroundLevel0Brush}">

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TabControl x:Name="OverlayTabControl" Grid.Row="0"
                    Background="{DynamicResource BackgroundLevel1Brush}"
                    BorderBrush="{DynamicResource BorderSubtleBrush}">

            <!-- Logo Bug Tab -->
            <TabItem Header="Logo Bug">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="16">
                    <StackPanel Margin="16">
                        <!-- Logo Path -->
                        <TextBlock Text="Logo Image" Foreground="{DynamicResource TextSecondaryBrush}"
                                   FontSize="11" Margin="0,0,0,4"/>
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <TextBox Text="{Binding LogoPath, UpdateSourceTrigger=PropertyChanged}"
                                     Background="{DynamicResource BackgroundLevel0Brush}"
                                     Foreground="{DynamicResource TextPrimaryBrush}"
                                     BorderBrush="{DynamicResource BorderSubtleBrush}"
                                     Padding="8,6" IsReadOnly="True"/>
                            <Button Grid.Column="1" Content="Browse..."
                                    Command="{Binding BrowseLogoCommand}"
                                    Margin="8,0,0,0" Padding="12,6"
                                    Style="{DynamicResource SecondaryButtonStyle}"/>
                        </Grid>

                        <!-- Position -->
                        <TextBlock Text="Position" Foreground="{DynamicResource TextSecondaryBrush}"
                                   FontSize="11" Margin="0,0,0,4"/>
                        <ComboBox ItemsSource="{Binding AvailablePositions}"
                                  SelectedItem="{Binding LogoPosition}"
                                  Margin="0,0,0,16"/>

                        <!-- Scale -->
                        <TextBlock Text="Scale" Foreground="{DynamicResource TextSecondaryBrush}"
                                   FontSize="11" Margin="0,0,0,4"/>
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <Slider Minimum="0.1" Maximum="2.0" Value="{Binding LogoScale}"
                                    TickFrequency="0.1" IsSnapToTickEnabled="True"/>
                            <TextBlock Grid.Column="1" Text="{Binding LogoScale, StringFormat='{}{0:F1}x'}"
                                       Foreground="{DynamicResource TextPrimaryBrush}"
                                       VerticalAlignment="Center" HorizontalAlignment="Center"/>
                        </Grid>

                        <!-- Margin -->
                        <TextBlock Text="Margin (px)" Foreground="{DynamicResource TextSecondaryBrush}"
                                   FontSize="11" Margin="0,0,0,4"/>
                        <TextBox Text="{Binding LogoMargin, UpdateSourceTrigger=PropertyChanged}"
                                 Background="{DynamicResource BackgroundLevel0Brush}"
                                 Foreground="{DynamicResource TextPrimaryBrush}"
                                 BorderBrush="{DynamicResource BorderSubtleBrush}"
                                 Padding="8,6" Width="80" HorizontalAlignment="Left"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Lower Third Tab -->
            <TabItem Header="Lower Third">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="16">
                    <StackPanel Margin="16">
                        <!-- Enabled Toggle -->
                        <CheckBox Content="Enable Lower Third"
                                  IsChecked="{Binding LowerThirdEnabled}"
                                  Foreground="{DynamicResource TextPrimaryBrush}"
                                  Margin="0,0,0,16"/>

                        <!-- Font Size -->
                        <TextBlock Text="Font Size" Foreground="{DynamicResource TextSecondaryBrush}"
                                   FontSize="11" Margin="0,0,0,4"/>
                        <TextBox Text="{Binding FontSize, UpdateSourceTrigger=PropertyChanged}"
                                 Background="{DynamicResource BackgroundLevel0Brush}"
                                 Foreground="{DynamicResource TextPrimaryBrush}"
                                 BorderBrush="{DynamicResource BorderSubtleBrush}"
                                 Padding="8,6" Width="80" HorizontalAlignment="Left"
                                 Margin="0,0,0,12"/>

                        <!-- Font Color -->
                        <TextBlock Text="Font Color" Foreground="{DynamicResource TextSecondaryBrush}"
                                   FontSize="11" Margin="0,0,0,4"/>
                        <TextBox Text="{Binding FontColor, UpdateSourceTrigger=PropertyChanged}"
                                 Background="{DynamicResource BackgroundLevel0Brush}"
                                 Foreground="{DynamicResource TextPrimaryBrush}"
                                 BorderBrush="{DynamicResource BorderSubtleBrush}"
                                 Padding="8,6" Width="150" HorizontalAlignment="Left"
                                 Margin="0,0,0,12"/>

                        <!-- Font Family -->
                        <TextBlock Text="Font Family" Foreground="{DynamicResource TextSecondaryBrush}"
                                   FontSize="11" Margin="0,0,0,4"/>
                        <TextBox Text="{Binding FontFamily, UpdateSourceTrigger=PropertyChanged}"
                                 Background="{DynamicResource BackgroundLevel0Brush}"
                                 Foreground="{DynamicResource TextPrimaryBrush}"
                                 BorderBrush="{DynamicResource BorderSubtleBrush}"
                                 Padding="8,6" Width="200" HorizontalAlignment="Left"
                                 Margin="0,0,0,12"/>

                        <!-- Box Settings -->
                        <CheckBox Content="Show Background Box"
                                  IsChecked="{Binding ShowBox}"
                                  Foreground="{DynamicResource TextPrimaryBrush}"
                                  Margin="0,0,0,8"/>

                        <TextBlock Text="Box Color" Foreground="{DynamicResource TextSecondaryBrush}"
                                   FontSize="11" Margin="0,0,0,4"/>
                        <TextBox Text="{Binding BoxColor, UpdateSourceTrigger=PropertyChanged}"
                                 Background="{DynamicResource BackgroundLevel0Brush}"
                                 Foreground="{DynamicResource TextPrimaryBrush}"
                                 BorderBrush="{DynamicResource BorderSubtleBrush}"
                                 Padding="8,6" Width="150" HorizontalAlignment="Left"
                                 Margin="0,0,0,12"/>

                        <TextBlock Text="Box Padding (px)" Foreground="{DynamicResource TextSecondaryBrush}"
                                   FontSize="11" Margin="0,0,0,4"/>
                        <TextBox Text="{Binding BoxPadding, UpdateSourceTrigger=PropertyChanged}"
                                 Background="{DynamicResource BackgroundLevel0Brush}"
                                 Foreground="{DynamicResource TextPrimaryBrush}"
                                 BorderBrush="{DynamicResource BorderSubtleBrush}"
                                 Padding="8,6" Width="80" HorizontalAlignment="Left"
                                 Margin="0,0,0,12"/>

                        <!-- Position -->
                        <TextBlock Text="Position" Foreground="{DynamicResource TextSecondaryBrush}"
                                   FontSize="11" FontWeight="SemiBold" Margin="0,4,0,8"/>
                        <Grid Margin="0,0,0,12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="80"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="80"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="X:" Foreground="{DynamicResource TextSecondaryBrush}"
                                       VerticalAlignment="Center" Margin="0,0,8,0"/>
                            <TextBox Grid.Column="1"
                                     Text="{Binding LowerThirdX, UpdateSourceTrigger=PropertyChanged}"
                                     Background="{DynamicResource BackgroundLevel0Brush}"
                                     Foreground="{DynamicResource TextPrimaryBrush}"
                                     BorderBrush="{DynamicResource BorderSubtleBrush}"
                                     Padding="8,6"/>
                            <TextBlock Grid.Column="2" Text="Y from bottom:"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       VerticalAlignment="Center" Margin="16,0,8,0"/>
                            <TextBox Grid.Column="3"
                                     Text="{Binding YFromBottom, UpdateSourceTrigger=PropertyChanged}"
                                     Background="{DynamicResource BackgroundLevel0Brush}"
                                     Foreground="{DynamicResource TextPrimaryBrush}"
                                     BorderBrush="{DynamicResource BorderSubtleBrush}"
                                     Padding="8,6"/>
                        </Grid>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>

        <!-- Save / Cancel Buttons -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button Content="Cancel"
                    Command="{Binding CancelCommand}"
                    Padding="16,8" Margin="0,0,12,0"
                    Style="{DynamicResource SecondaryButtonStyle}"/>
            <Button Content="Save"
                    Command="{Binding SaveCommand}"
                    Padding="16,8"
                    Style="{DynamicResource PrimaryButtonStyle}"/>
        </StackPanel>
    </Grid>
</Window>
